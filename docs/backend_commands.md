# Backend commands
Commands sent to the backend of the tournament are used to manage the tournament itself; Starting the tournament, 
closing submissions to the tournament, generating results from the tournament, and so on. These commands are used 
by the tournament maintainer.

Commands are sent by calling `python3 backend.py <command>`

A list of available commands can be printed to screen by running `python3 backend.py -h`. Further details on each 
command are provided below.

	python3 backend.py --help
	
    check_config            Check the configuration of the tournament.
    start_tournament        Start the tournament server
    close_submissions       Close new submissions to the tournament.
    get_diffs               Generate diffs between submitters mutants and the original program to verify mutants are valid.
    rescore_invalid_progs   Read the diffs file and update (zero out) the score of any progs found to be invalid.
    report                  Get the results of the tournament.
    shutdown                Shut down the tournament server
    clean                   Remove all submissions from the tournament and reset the tournament state.
    

#### check\_config  
Validates the configuration of the tournament, checking all of the config files in [files/configs](../tournament/state/config). 
Details on the configuration files checked can be [found here](../tournament/config/README.md)

#### start\_tournament  
Starts the tournament, enabling submissions to be made and starts the HTTP results server. A call is also made to 
`check_configs`, and if the check fails the tournament does not start.

#### close\_submissions  
A flag is set to prevent further submissions to the tournament being made. Submitters listed in the 
`submitter_extensions` are still able to make submissions.  
This command can be scheduled to run at a specific time using the `at` command.

#### get\_diffs  
While the tournament can performs simple checks on submissions made, manual confirmation may be required. 
This command performs a diff between all PUTs submitted to the tournament and the original source code. 
The results of these diffs are save to a `.csv` containing an `invalid?` column to be filled out by manual inspection.

#### rescore\_invalid\_progs  
Reads the `.csv` file generated by `get_diffs` from the same file location. For any submitter PUTs that have 
been marked as invalid their scores are set to zero.

#### report  
Takes the tournament state and outputs it in a Blackboard friendly .csv format.

#### shutdown  
Shuts down the tournament.

#### clean  
Deletes all state of the tournament; config files, submissions, and flags set. 
This can only be called when the tournament is offline.
